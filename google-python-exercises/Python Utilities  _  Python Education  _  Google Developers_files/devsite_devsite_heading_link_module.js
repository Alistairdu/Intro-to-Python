(function(_ds){var window=this;'use strict';var AK=function(a){a=a.label;return(0,_ds.T)('<button role="button" class="devsite-heading-link button-flat material-icons" aria-label="'+_ds.V(a)+'" data-title="'+_ds.V(a)+'"></button>')},BK=function(){var a=_ds.Wr.call(this)||this;a.h=null;a.o=new Set;a.m=new _ds.Aj;a.j=_ds.lm(AK,{label:"Copy link to this section"});a.D=null;a.C=null;return a},FK=function(a){a.m.listen(document.body,[CK,"focusin"],function(b){return void DK(a,b)});a.m.listen(a.j,"click",function(b){b.preventDefault();
b.stopPropagation();var c=(b=_ds.ph(a.h,"devsite-expandable",void 0,2))?b.id:a.h.id;c&&(b=_ds.ji(),b.hash=c,c=document.createElement("div"),c.innerText=b.href,_ds.as(a,[c]),_ds.Qg(c),EK(a))})},DK=function(a,b){var c=b.target;c!==a.D&&(a.D=c,c.matches&&c.matches("h1.add-link[id],h2:not(.no-link)[id],h3:not(.no-link)[id],h4:not(.no-link)[id],h5:not(.no-link)[id],h6:not(.no-link)[id]")||(c=_ds.oh(c,function(d){return d instanceof Element?d.matches("h1.add-link[id],h2:not(.no-link)[id],h3:not(.no-link)[id],h4:not(.no-link)[id],h5:not(.no-link)[id],h6:not(.no-link)[id]"):
!1},!1,3)),c?(c.classList.contains("add-link")||!("full"===document.body.getAttribute("layout")||_ds.ph(c,"devsite-dialog",void 0,3)||_ds.ph(c,"devsite-selector",void 0,6)||_ds.ph(c,"table",void 0,4)))&&GK(a,c,b):HK(a))},GK=function(a,b,c){var d,e,g;_ds.E(function(k){if(1==k.h){if(a.h===b)return k.K(0);a.h=b;d=a.h.dataset.text||a.h.textContent;if(!d)return k.K(0);e="Copy link to this section: "+d;g=a.j;g.dataset.title=e;g.setAttribute("aria-label",e);a.h.appendChild(a.j);a.o.add(a.h);return"focusin"!==
c.type?(a.o.forEach(function(m){m.setAttribute("tabindex","0");a.o.delete(m)}),k.K(0)):_ds.v(k,_ds.xi(),5)}a.h&&a.j&&(a.j.focus(),a.h.setAttribute("tabindex","-1"),_ds.Ej(a.m,a.j,"focusout",function(){a.h.setAttribute("tabindex","0");a.o.delete(a.h)}));_ds.x(k)})},HK=function(a){a.h&&(a.j.remove(),a.h=null)},EK=function(a){var b;_ds.E(function(c){if(1==c.h){if(!a.C)return c.K(0);b=new _ds.Rp;a.j.setAttribute("aria-label","Link to this section was copied to the clipboard");_ds.Ej(a.m,a.C,_ds.Xu,function(){b.resolve()});
return _ds.v(c,b.h,3)}_ds.Ej(a.m,a.C,_ds.Xu,function(){a.j.setAttribute("aria-label","Copy link to this section")});_ds.x(c)})};var CK="onpointermove"in window?"pointermove":"mousemove";_ds.u(BK,_ds.Wr);BK.prototype.connectedCallback=function(){_ds.Wr.prototype.connectedCallback.call(this);FK(this);this.C=document.querySelector("devsite-snackbar")};BK.prototype.disconnectedCallback=function(){_ds.Wr.prototype.disconnectedCallback.call(this);_ds.Gj(this.m)};BK.prototype.disconnectedCallback=BK.prototype.disconnectedCallback;BK.prototype.connectedCallback=BK.prototype.connectedCallback;try{window.customElements.define("devsite-heading-link",BK)}catch(a){console.warn("devsite.app.customElement.DevsiteHeadingLink",a)};})(_ds_www);
